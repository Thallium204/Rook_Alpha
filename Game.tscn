[gd_scene load_steps=49 format=2]

[ext_resource path="res://FactoryScene.tscn" type="PackedScene" id=1]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_events_off.png" type="Texture" id=2]
[ext_resource path="res://Assets/Conveyor/conv_quadrants/QuadU_none.png" type="Texture" id=3]
[ext_resource path="res://Assets/Tileables/img_factory_red_120x.png" type="Texture" id=4]
[ext_resource path="res://Assets/Building/img_tree.png" type="Texture" id=5]
[ext_resource path="res://Assets/Tileables/img_factory_lime_120x.png" type="Texture" id=6]
[ext_resource path="res://Assets/Tileables/img_factory_orange_120x.png" type="Texture" id=7]
[ext_resource path="res://Assets/Tileables/img_factory_purple_120x.png" type="Texture" id=8]
[ext_resource path="res://Globals.gd" type="Script" id=9]
[ext_resource path="res://Fonts/minecraft_regular.otf" type="DynamicFontData" id=10]
[ext_resource path="res://tmpAddStructure.gd" type="Script" id=11]
[ext_resource path="res://Assets/Tileables/img_factory_grey_120x.png" type="Texture" id=12]
[ext_resource path="res://BottomBarNode.gd" type="Script" id=13]
[ext_resource path="res://tmpQuad.gd" type="Script" id=14]
[ext_resource path="res://Assets/Tileables/img_factory_brown_120x.png" type="Texture" id=15]
[ext_resource path="res://BeepBox-Song.wav" type="AudioStream" id=16]
[ext_resource path="res://Assets/Resources/img_empty_solid.png" type="Texture" id=17]
[ext_resource path="res://Assets/Tileables/img_factory_blue_120x.png" type="Texture" id=18]
[ext_resource path="res://bodyQuad.gd" type="Script" id=19]
[ext_resource path="res://Assets/Conveyor/conv_quadrants/Center.png" type="Texture" id=20]
[ext_resource path="res://Assets/Menu/img_menu_yes.png" type="Texture" id=21]
[ext_resource path="res://Assets/Tileables/img_factory_green_120x.png" type="Texture" id=22]
[ext_resource path="res://bodyWhole.gd" type="Script" id=23]
[ext_resource path="res://oldConveyor.gd" type="Script" id=24]
[ext_resource path="res://Assets/Menu/img_menu_no.png" type="Texture" id=25]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_populace_off.png" type="Texture" id=26]
[ext_resource path="res://Assets/Menu/img_menu_black_9x.png" type="Texture" id=27]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_upgrades_off.png" type="Texture" id=28]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_quests_off.png" type="Texture" id=29]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_factory_on.png" type="Texture" id=30]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_crafting_off.png" type="Texture" id=31]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_settings_off.png" type="Texture" id=58]
[ext_resource path="res://Assets/Buttons/BottomBarSquare/img_research_off.png" type="Texture" id=59]
[ext_resource path="res://tmpTileDetect.gd" type="Script" id=78]
[ext_resource path="res://tmpConfirm.gd" type="Script" id=79]
[ext_resource path="res://Assets/Misc/img_progress_circle.png" type="Texture" id=80]
[ext_resource path="res://Assets/Menu/img_tile_white.png" type="Texture" id=81]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 135, 52 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 135, 52 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 135, 52 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 135, 52 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 0, 0, 32, 0, 24, 8, 8, 8 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( -1, -1, 1, -1, 1, 1, -1, 1 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( -16, -16, 16, -16, 16, 16, -16, 16 )

[sub_resource type="DynamicFont" id=8]
size = 80
font_data = ExtResource( 10 )

[sub_resource type="CircleShape2D" id=9]
radius = 110.0

[sub_resource type="DynamicFont" id=10]
size = 32
font_data = ExtResource( 10 )

[sub_resource type="RectangleShape2D" id=11]
extents = Vector2( 16, 16 )

[node name="Game" type="Node2D"]

[node name="Globals" type="Node2D" parent="."]
script = ExtResource( 9 )

[node name="FactoryNode" parent="Globals" instance=ExtResource( 1 )]

[node name="CraftingNode" type="Control" parent="Globals"]
margin_left = 1080.0
margin_right = 1080.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/CraftingNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 4 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="UpgradesNode" type="Control" parent="Globals"]
margin_left = 2160.0
margin_right = 2160.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/UpgradesNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 22 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ResearchNode" type="Control" parent="Globals"]
margin_left = 3240.0
margin_right = 3240.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/ResearchNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 18 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="EventsNode" type="Control" parent="Globals"]
margin_top = 1920.0
margin_bottom = 1920.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/EventsNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 15 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="QuestsNode" type="Control" parent="Globals"]
margin_left = 1080.0
margin_top = 1920.0
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/QuestsNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 8 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PopulaceNode" type="Control" parent="Globals"]
margin_left = 2160.0
margin_top = 1920.0
margin_right = 2160.0
margin_bottom = 1920.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/PopulaceNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 6 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SettingsNode" type="Control" parent="Globals"]
margin_left = 3240.0
margin_top = 1920.0
margin_right = 3240.0
margin_bottom = 1920.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="texBackground" type="TextureRect" parent="Globals/SettingsNode"]
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 12 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BottomBarNode" type="Node2D" parent="."]
position = Vector2( 0, 1632 )
scale = Vector2( 1.011, 1 )
script = ExtResource( 13 )

[node name="BottomBar" type="TextureRect" parent="BottomBarNode"]
margin_right = 1080.0
margin_bottom = 272.0
rect_scale = Vector2( 0.985, 1.07 )
mouse_filter = 2
texture = ExtResource( 7 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="btnFactoryFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 0, -3 )
normal = ExtResource( 30 )
shape = SubResource( 1 )

[node name="btnCraftingFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 266, -3 )
normal = ExtResource( 31 )
shape = SubResource( 2 )

[node name="btnUpgradesFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 532, -3 )
normal = ExtResource( 28 )
shape = SubResource( 3 )

[node name="btnResearchFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 798, -3 )
normal = ExtResource( 59 )
shape = SubResource( 4 )

[node name="btnEventsFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 0, 128 )
normal = ExtResource( 2 )

[node name="btnQuestsFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 266, 128 )
normal = ExtResource( 29 )

[node name="btnPopulaceFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 532, 128 )
normal = ExtResource( 26 )

[node name="btnSettingsFloor" type="TouchScreenButton" parent="BottomBarNode"]
position = Vector2( 798, 128 )
normal = ExtResource( 58 )

[node name="twnBottomBar" type="Tween" parent="BottomBarNode"]

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 16 )

[node name="templateNode" type="Node2D" parent="."]
position = Vector2( -799.072, -1515.17 )

[node name="tmpStructure" type="TextureRect" parent="templateNode"]
margin_left = 112.734
margin_top = 61.6431
margin_right = 176.734
margin_bottom = 125.643
mouse_filter = 2
size_flags_horizontal = 9
texture = ExtResource( 5 )
expand = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="tmpQuad" type="Node2D" parent="templateNode"]
position = Vector2( 599.096, -3.5636 )
script = ExtResource( 14 )

[node name="bodyQuadU" type="Area2D" parent="templateNode/tmpQuad"]
script = ExtResource( 19 )

[node name="quadShape" type="CollisionShape2D" parent="templateNode/tmpQuad/bodyQuadU"]
shape = SubResource( 5 )

[node name="texQuad" type="TextureRect" parent="templateNode/tmpQuad/bodyQuadU/quadShape"]
margin_right = 32.0
margin_bottom = 32.0
rect_pivot_offset = Vector2( 64, 64 )
mouse_filter = 2
texture = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bodyQuadR" type="Area2D" parent="templateNode/tmpQuad"]
position = Vector2( 32, 0 )
rotation = 1.5708
script = ExtResource( 19 )

[node name="quadShape" type="CollisionShape2D" parent="templateNode/tmpQuad/bodyQuadR"]
shape = SubResource( 5 )

[node name="texQuad" type="TextureRect" parent="templateNode/tmpQuad/bodyQuadR/quadShape"]
margin_right = 32.0
margin_bottom = 32.0
rect_pivot_offset = Vector2( 64, 64 )
mouse_filter = 2
texture = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bodyQuadD" type="Area2D" parent="templateNode/tmpQuad"]
position = Vector2( 32, 32 )
rotation = 3.14159
script = ExtResource( 19 )

[node name="quadShape" type="CollisionShape2D" parent="templateNode/tmpQuad/bodyQuadD"]
shape = SubResource( 5 )

[node name="texQuad" type="TextureRect" parent="templateNode/tmpQuad/bodyQuadD/quadShape"]
margin_right = 32.0
margin_bottom = 32.0
rect_pivot_offset = Vector2( 64, 64 )
mouse_filter = 2
texture = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bodyQuadL" type="Area2D" parent="templateNode/tmpQuad"]
position = Vector2( 0, 32 )
rotation = 4.71239
script = ExtResource( 19 )

[node name="quadShape" type="CollisionShape2D" parent="templateNode/tmpQuad/bodyQuadL"]
shape = SubResource( 5 )

[node name="texQuad" type="TextureRect" parent="templateNode/tmpQuad/bodyQuadL/quadShape"]
margin_right = 32.0
margin_bottom = 32.0
rect_pivot_offset = Vector2( 64, 64 )
mouse_filter = 2
texture = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bodyQuadC" type="Area2D" parent="templateNode/tmpQuad"]
script = ExtResource( 19 )

[node name="quadShape" type="CollisionShape2D" parent="templateNode/tmpQuad/bodyQuadC"]
position = Vector2( 16, 16 )
shape = SubResource( 6 )

[node name="texQuad" type="TextureRect" parent="templateNode/tmpQuad/bodyQuadC/quadShape"]
visible = false
margin_left = -16.0
margin_top = -16.0
margin_right = 16.0
margin_bottom = 16.0
rect_pivot_offset = Vector2( 64, 64 )
mouse_filter = 2
texture = ExtResource( 20 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bodyWhole" type="Area2D" parent="templateNode/tmpQuad"]
position = Vector2( 16, 16 )
script = ExtResource( 23 )

[node name="quadShape" type="CollisionShape2D" parent="templateNode/tmpQuad/bodyWhole"]
shape = SubResource( 7 )

[node name="tmpText" type="Label" parent="templateNode"]
margin_left = 80.7938
margin_top = -40.005
margin_right = 516.794
margin_bottom = 59.995
rect_pivot_offset = Vector2( -2813.23, -1445.46 )
custom_fonts/font = SubResource( 8 )
text = "Templates"
align = 1
valign = 1
clip_text = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="tmpAddStructure" type="TextureRect" parent="templateNode"]
margin_left = 287.037
margin_top = 66.1846
margin_right = 543.037
margin_bottom = 322.185
mouse_filter = 2
texture = ExtResource( 5 )
expand = true
stretch_mode = 6
script = ExtResource( 11 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="btnAdd" type="TouchScreenButton" parent="templateNode/tmpAddStructure"]
position = Vector2( 16, 16 )
shape = SubResource( 9 )

[node name="tmpResource" type="TextureRect" parent="templateNode"]
margin_left = 541.555
margin_top = 9.03217
margin_right = 573.555
margin_bottom = 41.0322
rect_scale = Vector2( 2, 2 )
rect_pivot_offset = Vector2( 32, 32 )
mouse_filter = 2
texture = ExtResource( 17 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="tmpConveyorNode" type="Node2D" parent="templateNode"]
script = ExtResource( 24 )

[node name="tmpConfirm" type="NinePatchRect" parent="templateNode"]
margin_left = 111.259
margin_top = -300.21
margin_right = 367.259
margin_bottom = -172.21
texture = ExtResource( 27 )
region_rect = Rect2( 0, 0, 9, 9 )
patch_margin_left = 4
patch_margin_top = 4
patch_margin_right = 4
patch_margin_bottom = 4
script = ExtResource( 79 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="labMenu" type="Label" parent="templateNode/tmpConfirm"]
margin_right = 256.0
margin_bottom = 128.0
custom_fonts/font = SubResource( 10 )
text = "Choice?"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="btnYes" type="TouchScreenButton" parent="templateNode/tmpConfirm"]
position = Vector2( 0, 128 )
scale = Vector2( 4, 4 )
normal = ExtResource( 21 )

[node name="btnNo" type="TouchScreenButton" parent="templateNode/tmpConfirm"]
position = Vector2( 128, 128 )
scale = Vector2( 4, 4 )
normal = ExtResource( 25 )

[node name="tmpProgress" type="TextureProgress" parent="templateNode"]
margin_left = 180.732
margin_top = 63.9064
margin_right = 244.732
margin_bottom = 127.906
mouse_filter = 2
texture_progress = ExtResource( 80 )
fill_mode = 4
__meta__ = {
"_edit_use_anchors_": false
}

[node name="tmpShape" type="Control" parent="templateNode"]
show_behind_parent = true
margin_right = 40.0
margin_bottom = 40.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="tmpTileDetect" type="TouchScreenButton" parent="templateNode"]
position = Vector2( 389.914, -165.905 )
normal = ExtResource( 81 )
script = ExtResource( 78 )

[node name="bodyTile" type="Area2D" parent="templateNode/tmpTileDetect"]

[node name="shapeTile" type="CollisionShape2D" parent="templateNode/tmpTileDetect/bodyTile"]
position = Vector2( 16, 16 )
shape = SubResource( 11 )
[connection signal="released" from="BottomBarNode/btnFactoryFloor" to="BottomBarNode" method="_on_btnFactoryFloor_released"]
[connection signal="released" from="BottomBarNode/btnCraftingFloor" to="BottomBarNode" method="_on_btnCraftingFloor_released"]
[connection signal="released" from="BottomBarNode/btnUpgradesFloor" to="BottomBarNode" method="_on_btnUpgradesFloor_released"]
[connection signal="released" from="BottomBarNode/btnResearchFloor" to="BottomBarNode" method="_on_btnResearchFloor_released"]
[connection signal="released" from="BottomBarNode/btnEventsFloor" to="BottomBarNode" method="_on_btnEventsFloor_released"]
[connection signal="released" from="BottomBarNode/btnQuestsFloor" to="BottomBarNode" method="_on_btnQuestsFloor_released"]
[connection signal="released" from="BottomBarNode/btnPopulaceFloor" to="BottomBarNode" method="_on_btnPopulaceFloor_released"]
[connection signal="released" from="BottomBarNode/btnSettingsFloor" to="BottomBarNode" method="_on_btnSettingsFloor_released"]
[connection signal="area_shape_entered" from="templateNode/tmpQuad/bodyWhole" to="templateNode/tmpQuad" method="_on_bodyWhole_area_shape_entered"]
[connection signal="area_shape_exited" from="templateNode/tmpQuad/bodyWhole" to="templateNode/tmpQuad" method="_on_bodyWhole_area_shape_exited"]
[connection signal="pressed" from="templateNode/tmpAddStructure/btnAdd" to="templateNode/tmpAddStructure" method="_on_btnAdd_pressed"]
[connection signal="released" from="templateNode/tmpAddStructure/btnAdd" to="templateNode/tmpAddStructure" method="_on_btnAdd_released"]
[connection signal="released" from="templateNode/tmpConfirm/btnYes" to="templateNode/tmpConfirm" method="_on_btnYes_released"]
[connection signal="released" from="templateNode/tmpConfirm/btnNo" to="templateNode/tmpConfirm" method="_on_btnNo_released"]
[connection signal="pressed" from="templateNode/tmpTileDetect" to="templateNode/tmpTileDetect" method="_on_tmpTileDetect_pressed"]
[connection signal="released" from="templateNode/tmpTileDetect" to="templateNode/tmpTileDetect" method="_on_tmpTileDetect_released"]
